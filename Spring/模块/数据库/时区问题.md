在mysql 中有两种时间类型

+ **`DATETIME`**：不带时区信息，直接存储日期和时间。
+ **`TIMESTAMP`**：会基于服务器时区存储时间，读取时会按照连接时区转换。

**建议使用 DATETIME** 。 因为不需要考虑时区问题「业务不复杂 ，不需要时区转化」。

想要在Springboot 保证时间统一的，有三个维度都需要保持一致

+ java 代码
+ mybatis 框架
+ mysql

需要这三者都使用相同的时区。 有两种时区可以考虑

+ UTC+8 ：是固定的时区偏移量（+8小时），不会自动调整夏令时。
+ Asia/Shanghai：是基于地区的时区，会自动处理夏令时（不过中国已经废除夏令时）。

**建议使用 UTC+8**



如果没有特殊处理，MyBatis 会自动将数据库的 `DATETIME` 映射为 `LocalDateTime`。

MyBatis 默认支持 `LocalDateTime` 和 `DATETIME` 的直接映射,但是 **MyBatis-Plus 可能要设置映射关系**



应用服务器时区 

```
java -Duser.timezone=GMT+8
```

mybatis 层面

```
spring.datasource.url=jdbc:mysql://localhost:3306/your_database?serverTimezone=GMT+8
```

如果 `spring.datasource.druid.url` 中未指定时区参数，JDBC 驱动程序的行为将依赖以下内容：

- **默认时区：** MySQL JDBC 驱动会使用 MySQL 会话级别的时区（`@@session.time_zone`）。
- **影响：** 如果数据库时区与应用服务器时区不一致，则会导致存取时间数据时的偏移问题。例如：
  - 应用服务器时区是 `Asia/Shanghai`（UTC+8） ，服务器会将时间转化成 UTC+8 的 time0
  - 数据库存储 （UTC）,  数据库认为时区是 UTC  ,会将时间转化成 time1 

mysql层面

```
SELECT @@global.time_zone;  -- 查看全局时区
SELECT @@global.system_time_zone -- 查看全局系统时区
SELECT @@session.time_zone; -- 查看会话时区

SET GLOBAL time_zone = '+08:00'; -- 设置全局时区为东八区
```



