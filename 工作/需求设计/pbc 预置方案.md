

需求文档：http://wiki.qijiayoudao.net/pages/viewpage.action?pageId=77230816

需求理解：

+ 预置方案就是 做一组**有序的**数据，并插入到数据库中

+ 只给没有创建过方案的客户 进行预置。废弃之前的预置逻辑。
+ 预置的方案都是开启的

预置流程：

1. 预置指标库
	1. 新建一些指标分类
	2. 导入文件（异步导入），如果有个公司操作的时候
2. 预置评估关系
3. 预置结果设置
4. 预置绩效表单
5. 预置目标设置
6. 预置周期
7. 预置模版
8. 预置流程
9. 开启方案

如果解决指定人-超管这一问题？

问题难点：

- 管理员账号 与员工账号 是有区别的。员工端使用的是员工账号
- 如果登陆账号 没有员工账号
- 在人员列表里面展示的是 公司内的员工
- 多套预置方案怎么拓展？返回预置方案的主键
- 如何统一修改预置方案逻辑「涉及范围比较广」

解决问题方法：

+ 钉钉进来的： 开启方案【修改现有逻辑，**升级版本**。】

+ 系统进来的： 不开启方案，指定人展示为空**，可能会开启方案失败，补充一些提示**

	

如果控制预置数据？后面的预置需要使用前面的预置结果，并且是多套预置方案的。有的是相关联的，有的是不相关的

顺序添加、小事务、异步开启方案。





实现：

1、定一个接口，接口的作用是可以预置化的，为所有可以预置话的对象定义一套同一的接口

2、定义一个枚举，表明预置化的类型，以及对象名称

3、后面如果需要给一个对象添加预置功能的话，需要实现接口，增加一个枚举类型，并在初始化的时候添加上

4、作废掉之前的预置功能。





