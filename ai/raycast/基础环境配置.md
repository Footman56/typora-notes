# ä¸€ã€é…ç½®pythonç¯å¢ƒ

å…ˆæ·»åŠ ä¸€ä¸ªpython å·¥ä½œç›®å½•

![image-20250317160434103](https://raw.githubusercontent.com/Footman56/images/master/img202503171604269.png)

åç»­pythonè„šæœ¬éƒ½ç¼–å†™åœ¨python_scripté‡Œé¢

<img src="https://raw.githubusercontent.com/Footman56/images/master/img202503171615499.png" alt="image-20250317161553393" style="zoom:50%;" />

# äºŒã€æ·»åŠ pythonè„šæœ¬

![image-20250317161724939](https://raw.githubusercontent.com/Footman56/images/master/img202503171617992.png)

# ä¸‰ã€é…ç½®è„šæœ¬è®¾ç½®

+ compact:é€‚åˆè„šæœ¬è¾“å‡ºä¿¡æ¯è¾ƒå°‘çš„åœºæ™¯ï¼Œç®€çº¦å¤§æ–¹

  å•è¡Œå±•ç¤ºæ•°æ®ï¼Œéœ€è¦printæ‰èƒ½å±•ç¤º

+ silent:é€‚åˆè„šæœ¬æ— è¾“å‡ºä¿¡æ¯çš„åœºæ™¯ï¼Œåå°é™é»˜æ‰§è¡Œ

+ fullOutput: é€‚åˆè„šæœ¬è¾“å‡ºä¿¡æ¯è¾ƒå¤šçš„åœºæ™¯ï¼Œå±•ç¤ºç¾è§‚ã€‚ 

  <img src="https://raw.githubusercontent.com/Footman56/images/master/img202503261412846.png" alt="image-20250326141224252" style="zoom:50%;" />

+ inline:é€‚åˆè„šæœ¬è¾“å‡ºä¿¡æ¯éœ€è¦ç›´è§‚å±•ç¤ºçš„æƒ…å½¢

å¯ä»¥æ ¹æ®éœ€è¦é…ç½®æ˜¯å¦éœ€è¦å‚æ•°

ä¹‹åå°±é€‰æ‹©åˆ›å»ºç›®å½•ï¼ˆè¦é€‰æ‹©ä¹‹å‰åˆ›å»ºå¥½çš„ç›®å½•ï¼‰ã€æ–‡ä»¶å

# å››ã€ç¼–å†™è„šæœ¬

+ **`#!/Users/peilizhi/script/python_script/raycast-env/bin/python3` è¿™ä¸ªå‘½ä»¤æ˜¯æœ€å…³é”®çš„ï¼Œæ˜¯ä¹‹å‰pythonå·¥ä½œç›®å½•çš„è™šæ‹Ÿç¯å¢ƒã€‚åç»­ä½¿ç”¨å¯¹åº”çš„åŒ…éƒ½éœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å¼•å…¥ã€‚**

+ `# @raycast.argument1 { "type": "text", "placeholder": "Placeholder" }` æŒ‡å®šå‚æ•°ï¼Œå‚æ•°ç±»å‹ï¼Œåº•å±‚æ–‡æ¡ˆ . **ç›®å‰ä»…æ”¯æŒ textå½¢å¼**
+ **æƒ³è¦åœ¨raycastä¸­å›æ˜¾çš„è¯éœ€è¦printå‡ºæ¥**

```python
import datetime  
import pytz  
import sys


def timestamp_to_east8(timestamp):  
    """  
    å°†Unixæ—¶é—´æˆ³ï¼ˆç§’ä¸ºå•ä½ï¼‰è½¬æ¢ä¸ºä¸œå…«åŒºçš„æ—¶é—´  
    """  
    try:  
        # å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºUTCæ—¶é—´  
        utc_time = datetime.datetime.utcfromtimestamp(int(timestamp))  
        # è®¾ç½®UTCæ—¶åŒº  
        utc_time = utc_time.replace(tzinfo=pytz.UTC)  
        # è½¬æ¢ä¸ºä¸œå…«åŒºæ—¶é—´ï¼ˆUTC+8ï¼‰  
        east8_time = utc_time.astimezone(pytz.timezone('Asia/Shanghai'))  
        return east8_time  
    except ValueError:  
        return None  
    except Exception as e:  
        print(f"å‘ç”Ÿé”™è¯¯ï¼š{str(e)}")  
        return None  

def main():  
    timestamp_to_east8(sys.argv[1])

if __name__ == "__main__":  
    main()  
```



```python
#!/Users/peilizhi/script/python_script/raycast-env/bin/python3

# Required parameters:
# @raycast.schemaVersion 1
# @raycast.title naming_generator
# @raycast.mode compact

# Optional parameters:
# @raycast.icon ğŸ¤–
# @raycast.argument1 { "type": "text", "placeholder": "è¾“å…¥ä¸­æ–‡å­—ç¬¦" }
# @raycast.argument2 { "type": "text", "placeholder": "1-å˜2-å¸¸3-ç±»4-æš5-mysql6-git" }

# Documentation:
# @raycast.description å˜é‡å‘½å
# @raycast.author peilizhi450
# @raycast.authorURL https://raycast.com/peilizhi450

import sys

# @raycast.packageName googletrans

# Documentation:
# @raycast.description ä»£ç å‘½å
# @raycast.author peilizhi450
# @raycast.authorURL https://raycast.com/peilizhi450

import sys
import re
from googletrans import Translator
import pyperclip



# print("Hello World! Argument1 value: " + sys.argv[1])


def translate_to_english(text):
    translator = Translator()
    translation = translator.translate(text, src='zh-cn', dest='en')
    return translation.text


def to_camel_case(s):
    components = s.split()
    return components[0].lower() + ''.join(x.title() for x in components[1:])


def to_snake_case(s):
    return '_'.join(re.sub('([A-Z][a-z]+)', r' \1', re.sub('([A-Z]+)', r' \1', s.replace('-', ' '))).split()).lower()


def to_upper_snake_case(s):
    return to_snake_case(s).upper()


def generate_column_name(description):
    cleaned_description = re.sub(r'[^\w\s]', '', description).strip()
    # ç¿»è¯‘ä¸­æ–‡æè¿°ä¸ºè‹±æ–‡
    cleaned_description = translate_to_english(cleaned_description)
    return to_snake_case(cleaned_description)


def generate_variable_name(description, format_type='camel'):
    cleaned_description = re.sub(r'[^\w\s]', '', description).strip()
    # ç¿»è¯‘ä¸­æ–‡æè¿°ä¸ºè‹±æ–‡
    cleaned_description = translate_to_english(cleaned_description)
    if format_type == 'camel':
        return to_camel_case(cleaned_description)
    elif format_type == 'upper':
        return to_upper_snake_case(cleaned_description)
    elif format_type == 'class':
        return to_camel_case(cleaned_description).capitalize()  # ç±»åé¦–å­—æ¯å¤§å†™
    else:
        raise ValueError("Unsupported format type")


def generate_function_name(description, format_type='camel'):
    return generate_variable_name(description, format_type)


def generate_constant_name(description):
    return generate_variable_name(description, 'upper')


def generate_enum_name(description):
    class_name = generate_variable_name(description, 'class')
    return f"E{class_name}Enum"


def generate_git_branch_name(description):
    cleaned_description = re.sub(r'[^\w\s-]', '', description).strip().lower().replace(' ', '-')
    # ç¿»è¯‘ä¸­æ–‡æè¿°ä¸ºè‹±æ–‡
    cleaned_description = translate_to_english(cleaned_description)
    cleaned_description = cleaned_description.replace(' ', '-')
    # é™åˆ¶åç§°é•¿åº¦å¹¶æ·»åŠ å‰ç¼€
    max_length = 25 - len('dev-for-')  # å‡å»å‰ç¼€é•¿åº¦
    cleaned_description = cleaned_description[:max_length]
    return f"dev-for-{cleaned_description}"


def main(description, format_type):
    # æ ¹æ®å‘½åç±»å‹ç”Ÿæˆç›¸åº”çš„åç§°
    if format_type == "1":
        result = generate_variable_name(description, format_type='camel')
    elif format_type == "2":
        result = generate_variable_name(description, format_type='upper')
        # print("Variable Name (upper):", generate_variable_name(description, format_type='upper'))
    elif format_type == "3":
        result = generate_variable_name(description, format_type='class')
        # print("Class Name:", generate_variable_name(description, format_type='class'))
    elif format_type == "4":
        result = generate_enum_name(description)
        # print("Function Name:", generate_function_name(description, format_type='camel'))
    elif format_type == "5":
        result = generate_column_name(description)
        # mysql
    elif format_type == "6":
        result = generate_git_branch_name(description)
    else:
        return "ä¸æ”¯æŒçš„å‘½åç±»å‹"
    print(result)
    # å°†ç»“æœä¿å­˜åˆ°å‰ªè´´æ¿
    pyperclip.copy(result)
    return result

main(sys.argv[1], sys.argv[2])

```



# äº”ã€é…ç½®å¯åŠ¨å¿«æ·é”®

<img src="https://raw.githubusercontent.com/Footman56/images/master/img202503171633720.png" alt="image-20250317163310648" style="zoom:50%;" />



```
# ä¿®æ”¹æŒ‡æ ‡ç±»å‹ä¸ºç®¡ç†å‘˜æ·»åŠ çš„
UPDATE `kpi`.`kpi_assessee_target_detail` SET `target_type`=0,`process_target_id`='410635016eec414597ce5ee3a9d3332b' WHERE `id`=10302898;
UPDATE `kpi`.`kpi_assessee_target_detail` SET `target_type`=0,`process_target_id`='e9e0821b73944473a24f459ffde68c62' WHERE `id`=10302899;
UPDATE `kpi`.`kpi_assessee_target_detail` SET `target_type`=0,`process_target_id`='b67bb2eff4d845618c119a0b17bce4ed' WHERE `id`=10302901;
UPDATE `kpi`.`kpi_assessee_target_detail` SET `target_type`=0,`process_target_id`='fdc651d2a8db4dc497619384ac5cfa7e' WHERE `id`=10302903;
```



```
# åˆ é™¤æŒ‡æ ‡å­æµç¨‹
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471219;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471220;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471221;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471222;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471223;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471224;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471228;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471229;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471230;
UPDATE `kpi`.`kpi_process_emp_target_info` SET `is_del`=1 WHERE `id`=471234;
```

```
# ä¿®æ”¹å¾…åŠ
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='4a8d5a558d944b618565b1d7824f4646',`object_id`='410635016eec414597ce5ee3a9d3332b' WHERE `id`=8762594;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='b7ad1f2665e0427d983475c7b21517a6',`object_id`='410635016eec414597ce5ee3a9d3332b' WHERE `id`=8762595;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='9828d06230194669b2f3c6f72d5545f0',`object_id`='410635016eec414597ce5ee3a9d3332b' WHERE `id`=8762596;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='109329492af8436697fb5b2c9fbe8876',`object_id`='e9e0821b73944473a24f459ffde68c62' WHERE `id`=8762597;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='f03841cbfda3476eb485e20ec3455a32',`object_id`='e9e0821b73944473a24f459ffde68c62' WHERE `id`=8762598;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='5581a90ad5e94365ab900080942af1cb',`object_id`='e9e0821b73944473a24f459ffde68c62' WHERE `id`=8762599;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='6381dd15d6194b15b7b6ed7f51320c83',`object_id`='b67bb2eff4d845618c119a0b17bce4ed' WHERE `id`=8762603;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='50c1304a7fad401fb9cf171978947a53',`object_id`='b67bb2eff4d845618c119a0b17bce4ed' WHERE `id`=8762604;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='5375e24f08d948e198cd90305299c8c6',`object_id`='b67bb2eff4d845618c119a0b17bce4ed' WHERE `id`=8762605;
UPDATE `kpi`.`kpi_process_todo` SET `process_id`='88137df62c8a441d8e18cbef4ac9904b',`object_id`='fdc651d2a8db4dc497619384ac5cfa7e' WHERE `id`=8762609;
```









```

SELECT todo.`object_id` ,`todo`.`process_id` ,`target`.`parent_process_id`  FROM `kpi_process_todo`  as todo inner join `kpi_process_emp_target_info`  as target on todo.`plan_id` = target.`plan_id` 
  and todo.`assessee_emp_id` = target.`employee_id`  and todo.`process_id` = target.`process_id` and todo.`flow_id` = target.`flow_id` 
WHERE  todo.`plan_id` ='78a701ecc01e4a03925c7792eb8a1c35' and todo.`assessee_emp_id` ='cc6f44de4a624b0ab12b5d040126ab00' and todo.`flow_id` ='c90933715a864bd7b509b883446d830f' and todo.`is_del` =0
;


SELECT * FROM `kpi_process_info` WHERE `company_id` ='034e00d4e3124909920c71a73df772bb' 
  and `plan_id` ='78a701ecc01e4a03925c7792eb8a1c35' and `flow_id` ='c90933715a864bd7b509b883446d830f' and `assessment_id` ='346bc203c54e45cc9f82e3c55f482d8e' and is_del = 0 and `target_id` is not null;
```









```
Reason: Traceback (most recent call last):
  File "/Users/peilizhi/script/python_script/name_generator_raycast.py", line 114, in <module>
    main(sys.argv[1], sys.argv[2])
                      ~~~~~~~~^^^
IndexError: list index out of range
Domain: scripts
Time: 05:49:38.954
```

