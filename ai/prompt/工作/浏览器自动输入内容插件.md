项目目录： `/Users/peilizhi/ai_projects/kpi-autofill-extension`



```
请你开发一个浏览器插件，插件的功能是读取页面中的输入框，完成输入框内容输入。
输入框包括： 数值型、文本型、选项型的的字段。注意有些输入框是不能编辑，需要识别出这种标签。
实际页面已经通过截图形式展示出，需要处理标红的页面部分。
要求根据chrome浏览器来开放，给出浏览器开发的具体流程
```



```
要求修改 content.js 中的matches ，需要匹配的地址有三类：
https://test.xinrenxinshi.com/staff/performance/kpi/kpi-detail、
https://s119.devtest.vip/staff/performance/kpi/kpi-detail 这类中的网站的前缀可以是 s119.devtest.vip、s122.devtest.vip
https://s.xinrenxinshi.com/staff/performance/kpi/kpi-detail、
```





```
对下面代码进行修改：
 function autofillInputs() {
        const inputs = document.querySelectorAll("input, textarea, select");
        inputs.forEach((el) => {
          if (el.disabled || el.readOnly) return;

          if (el.type === "number" || el.inputMode === "numeric" || el.className === "el-input__inner") {
            el.value = Math.floor(Math.random() * 100);
            el.dispatchEvent(new Event("input", { bubbles: true }));
          } else if (el.type === "text" || el.tagName === "TEXTAREA") {
            el.value = generateRandomChineseText(50);
            el.dispatchEvent(new Event("input", { bubbles: true }));
          } else if (el.tagName === "SELECT") {
            if (el.options.length > 1) {
              const randomIndex = Math.floor(Math.random() * (el.options.length - 1)) + 1;
              el.value = el.options[randomIndex].value;
              el.dispatchEvent(new Event("change", { bubbles: true }));
            }
          }
        });
        console.log("已完成随机中文自动填充（手动触发）。");
      }
修改el.className === "el-input__inner" 时，如果有 placeholder="20 ~ 50" 这种形式的，需要控制数值范围要在 placeholder设置的范围内
举例：<input type="text" autocomplete="off" placeholder="20 ~ 50" class="el-input__inner"> ，那么输入的随机数要在 20到50之内，如果没有placeholder的话就是随机输入

```





```
标签如下：
<div data-v-7c6f60a6="" class="select-level-box"><div data-v-7c6f60a6="" class="el-tooltip select-level-item sk--hover-light5-only-bg sk--hover-text" aria-describedby="el-tooltip-303" tabindex="0"> S </div><div data-v-7c6f60a6="" class="el-tooltip select-level-item sk--hover-light5-only-bg sk--hover-text" aria-describedby="el-tooltip-8422" tabindex="0"> A </div><div data-v-7c6f60a6="" class="el-tooltip select-level-item sk--hover-light5-only-bg sk--hover-text" aria-describedby="el-tooltip-8313" tabindex="0"> B </div><div data-v-7c6f60a6="" class="el-tooltip select-level-item sk--hover-light5-only-bg sk--hover-text" aria-describedby="el-tooltip-7983" tabindex="0"> C </div><div data-v-7c6f60a6="" class="el-tooltip select-level-item sk--hover-light5-only-bg sk--hover-text" aria-describedby="el-tooltip-2064" tabindex="0"> D </div></div>
需要自动填充这种类型的数据。
```





```
标签如下：
<div data-v-35435fc4="" class="target-name-wrap-container"><div data-v-35435fc4="" class="target-name-wrap"><div data-v-12f2729a="" data-v-35435fc4="" class="kpi-field-item-target-name-wrap field-wrap can-edit"><div data-v-12f2729a="" class="kpi-field-item"><div data-v-12f2729a="" class="kpi-field-hover-box"><!----><div data-v-12f2729a="" class="target-name"><span data-v-12f2729a=""><div style="display: inline;">单独的</div></span><!----><!----><!----><!----></div><span data-v-12f2729a="" class="lock-tip"><!----></span></div><!----></div><!----></div><div data-v-35435fc4="" class="right-btns"><div data-v-35435fc4="" class="auto-fill sk-text c_pointer"> 自动填充 </div><svg data-v-35435fc4="" aria-hidden="true" class="icon-font xin-icon nicon el-tooltip f_s16 m_l16 sk-text c_pointer icon-icon_delete_standard" aria-describedby="el-tooltip-9734" tabindex="0" style="flex: 0 0 auto;"><use xlink:href="#nicon-icon_delete_standard"></use></svg></div></div><!----></div>

自动填充代码如下
 function autofillInputs() {
        const inputs = document.querySelectorAll("input, textarea, select");
        inputs.forEach((el) => {
          if (el.disabled || el.readOnly) return;

          if (el.type === "number" || el.inputMode === "numeric" || el.className === "el-input__inner") {
            let min = 0, max = 100; // 默认范围
            // 检查 placeholder 是否包含 "min ~ max"
            if (el.placeholder) {
                const match = el.placeholder.match(/(\d+)\s*~\s*(\d+)/);
                if (match) {
                    min = parseInt(match[1], 10);
                    max = parseInt(match[2], 10);
                }
            }
            // 生成随机整数
            el.value = Math.floor(Math.random() * (max - min + 1)) + min;
            el.dispatchEvent(new Event("input", { bubbles: true }));
          } else if (el.type === "text" || el.tagName === "TEXTAREA") {
            el.value = generateRandomChineseText(50);
            el.dispatchEvent(new Event("input", { bubbles: true }));
          } else if (el.tagName === "SELECT") {
            if (el.options.length > 1) {
              const randomIndex = Math.floor(Math.random() * (el.options.length - 1)) + 1;
              el.value = el.options[randomIndex].value;
              el.dispatchEvent(new Event("change", { bubbles: true }));
            }
          }
        });


        const selectBoxes = document.querySelectorAll('.select-level-box');
    
       selectBoxes.forEach(box => {
        const items = box.querySelectorAll('.select-level-item');
        if (!items.length) return;

        // 随机选择一个选项
        const randomIndex = Math.floor(Math.random() * items.length);
        const chosenItem = items[randomIndex];

        // 模拟点击
        chosenItem.click();

        console.log(`已随机选择自定义选项: "${chosenItem.textContent.trim()}"`);
    });
        console.log("已完成随机中文自动填充（手动触发）。");
      }

      需要在自动填充代码中补充这种标签


```





```
代码标签如下，需要自动给 <div style="display: inline;">指标名称</div> 标签进行自动赋值
<div data-v-35435fc4="" class="target-name-wrap-container"><div data-v-35435fc4="" class="target-name-wrap"><div data-v-12f2729a="" data-v-35435fc4="" class="kpi-field-item-target-name-wrap field-wrap can-edit"><div data-v-12f2729a="" class="kpi-field-item"><div data-v-12f2729a="" class="kpi-field-hover-box"><!----><div data-v-12f2729a="" class="target-name"><span data-v-12f2729a=""><div style="display: inline;">指标名称</div></span><!----><!----><!----><!----></div><span data-v-12f2729a="" class="lock-tip"><!----></span></div><!----></div><!----></div><div data-v-35435fc4="" class="right-btns"><div data-v-35435fc4="" class="auto-fill sk-text c_pointer"> 自动填充 </div><svg data-v-35435fc4="" aria-hidden="true" class="icon-font xin-icon nicon el-tooltip f_s16 m_l16 sk-text c_pointer icon-icon_delete_standard" style="flex: 0 0 auto;" aria-describedby="el-tooltip-8716" tabindex="0"><use xlink:href="#nicon-icon_delete_standard"></use></svg></div></div><!----></div>
```



```
需要给标签自动赋值。 选项输入框的标签如下：
<div data-v-fc56a370="" class="el-select el-select--small" style="width: 144px;"><!----><div class="el-input el-input--small el-input--suffix"><!----><input type="text" readonly="readonly" autocomplete="off" placeholder="分数" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-select__caret el-input__icon el-icon-arrow-up"></i><!----><!----><!----><!----><!----></span><!----></span><!----><!----></div><div class="el-select-dropdown el-popper" style="display: none; min-width: 662.672px;"><div class="el-scrollbar" style=""><div class="el-select-dropdown__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-select-dropdown__list"><!----><li data-v-fc56a370="" class="el-select-dropdown__item"><span>A</span></li><li data-v-fc56a370="" class="el-select-dropdown__item"><span>B</span></li><li data-v-fc56a370="" class="el-select-dropdown__item"><span>C</span></li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="transform: translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="transform: translateY(0%);"></div></div></div><!----></div></div>
选项的内容 为<li data-v-fc56a370="" class="el-select-dropdown__item"><span>A</span></li> 标签中的 "A" .
```

