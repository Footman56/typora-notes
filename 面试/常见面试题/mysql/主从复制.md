一、配置两个数据源

```java
spring:
  datasource:
    master:
      url: jdbc:mysql://master:3306/test
      username: root
      password: 123456
    slave:
      url: jdbc:mysql://slave:3306/test
      username: root
      password: 123456
```

二、定义数据源枚举

```java
public enum DataSourceType {
    MASTER,
    SLAVE
}
```

三、使用 ThreadLocal 保存当前数据源

```java
public class DataSourceContextHolder {

    private static final ThreadLocal<DataSourceType> contextHolder = new ThreadLocal<>();

    public static void set(DataSourceType type) {
        contextHolder.set(type);
    }

    public static DataSourceType get() {
        return contextHolder.get();
    }

    public static void clear() {
        contextHolder.remove();
    }
}
```

四、实现动态数据源

```java
```

