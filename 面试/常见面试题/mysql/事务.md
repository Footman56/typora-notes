事务的4大特性

+ 原子性
+ 一致性
+ 隔离性
+ 持久性



![image-20260228110844333](https://raw.githubusercontent.com/Footman56/images-2/master/img202602281108370.png)



MVCC 机制，乐观锁的思想， 维护数据的多个版本。尽在 读已提交，可重复读两个隔离级别使用

数据有两个隐藏列： 事务id、指向记录的旧版本的一个指针。

ReadReview 记录  ，用于找哪些事务是已经提交过的，哪些是已启动但未提交的，哪些是还没有开始的事务。

可见的事务有：

+ 自己当前事务的数据
+ 已经提交的数据

不可见的数据：

+ 未提交的数据

读已提交是 每次查询时生成ReadView

可重复读是在第一次查询时生成ReadView

