全局锁：锁住整个实例，只能读，备份时使用，后面mysql备份时不需要加全局锁 （MVCC 实现无锁备份） 全局锁适合MYisam等不支持事务的引擎

表锁 ：锁定整张表   开销小，加锁快，并发度低

+ 表级读锁：多个事务可以同时加读锁，读读不互斥，读写互斥
+ 表级写锁：仅一个事务可以加写锁，写写，写读互斥
+ MDL锁： 执行增删改查时自动加MDL 读锁，执行ALTER TABLE 时自动加MDL 写锁  写写，写读互斥

长事务导致DML写锁阻塞，后续对表的修改都会排队阻塞

show  processlist  查看进程状态



行级锁 （锁单行） 仅在事务中生效

生产坑点：行级锁依赖索引，如果索引失效时，全表扫描时，等同于表锁

共享锁（S锁） 读读兼容，读写锁定  SELECT ... LOCK IN SHARE MODE

排他锁（X锁） SELECT  ... FOR UPDATE  或者insert、del、 update  



