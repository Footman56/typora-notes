# 修改用户权限

1. su root

2. 编辑 `ls –l /etc/sudoers`

3. 如果只是只读权限的话，需要设置新权限

   `chmod u+w /etc/sudoers `

4. `vim sudoers`

5. 找到 `Allow root to run any commands anywhere`

   <img src="https://gcore.jsdelivr.net/gh/Footman56/imageBeds/202410192215130.png" alt="image-20240523160750249" style="zoom:50%;" />



# 查看yum 安装的位置

```bash
rpm -qa|grep java

rpm -ql xx
```

<img src="https://gcore.jsdelivr.net/gh/Footman56/imageBeds/202410200039694.png" alt="image-20241020003933646" style="zoom:50%;" />



# 配置yum 阿里源

```sh
sudo rm -rf /etc/yum.repos.d/*
sudo curl -o /etc/yum.repos.d/Centos-7.repo http://mirrors.aliyun.com/repo/Centos-7.repo
sudo curl -o /etc/yum.repos.d/epel-7.repo http://mirrors.aliyun.com/repo/epel-7.repo
```



# 切换root用户

```sh
sudo su 
# 之后输入当前用户密码
```



# 后台启动jar

```sh
nohup java -jar xx.jar > log.txt & 
```



# cd 有空格的目录

```sh
cd 'Application Support'
```

#  查看内存情况

## free -m -h 

-h 以人的视角

+ free 空闲内存
+ available  可用内存
+ buff/cache  表示缓存和缓冲内存量;

![image-20241106152016908](https://cdn.jsdelivr.net/gh/Footman56/imageBed2/202411061520250.png)

## vmstat -s

<img src="https://cdn.jsdelivr.net/gh/Footman56/imageBed2/202411061523920.png" alt="image-20241106152318872" style="zoom:50%;" />

## top -O %MEM 

根据内存排序

<img src="https://cdn.jsdelivr.net/gh/Footman56/imageBed2/202411061524836.png" alt="image-20241106152445789" style="zoom:50%;" />



# 移动文件到指定目录

```sh
find . -name "*.xmind" -exec mv {} /Users/peilizhi/xmind/ \;
```



日志根据时间查询

**查询的时间规则必须符合日志文件的内容**

```
sed -n '/2024-12-03T17:15:00/,/2024-12-03T17:30:00/p'  gc-2024-12-03_17-33-20.log
```



# 给目录下所有文件设置权限

```sh
find your_directory -type f -exec sudo  chmod 755 {} +
```



# corn命令

```
# 安装：
sudo yum install cronie  

# 确保 crond 服务正在运行：
sudo systemctl start crond  
sudo systemctl enable crond 

# 创建定时任务
crontab -e  

# 添加定时任务
0 8 * * * docker exec freshrss php /var/www/FreshRSS/app/cli/cli.php refresh  

# 检查 Cron 任务
crontab -l  
```

# 检查corn 执行

```bash
# 检查执行日志情况,实时最后几行
sudo tail -f /var/log/cron  

# 检查特定时间内
sudo grep "$(date '+%b %d')" /var/log/cron  

# 手动检查 Docker 容器状态
docker logs freshrss  

# 使用以下命令来检查服务状态：
sudo systemctl status crond  
```

